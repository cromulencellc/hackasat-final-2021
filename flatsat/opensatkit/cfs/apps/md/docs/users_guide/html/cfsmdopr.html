<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CFS Memory Dwell (MD) Application on  User&#39;s Guide: CFS Memory Dwell Operation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">CFS Memory Dwell (MD) User's Guide</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="cfsmdopr">CFS Memory Dwell Operation </a></h1><p>The operational interface of the MD application consists of ground commands, dwell table loads, and housekeeping telemetry. The following items detail the operational interface: <br/>
</p>
<ol type="1">
<li><b>The application version number </b> - The application version number is displayed in the <a class="el" href="md__events_8h.html#acf8c8def166ef56ec58015b2b875abf2">Initialization event message </a> and the <a class="el" href="md__events_8h.html#aa2fb319cf8ff0cc23299b0b4262f18bf">No-op event message</a>. Both events are 'informational' type and are unfiltered by default.<br/>
<br/>
</li>
<li><b>Loading a Dwell Table </b> - Memory Dwell supports a configurable number of dwell tables. Each of these dwell tables can be loaded by way of a file. A new dwell table may be loaded at any time. The steps to load a new Copy Table are:<br/>
<br/>
 a) Transfer the table file to the on-board file system <br/>
 b) Send the <a class="el" href="">CFE Table load </a> command <br/>
 c) Send the <a class="el" href="">CFE Table validate </a> command <br/>
 d) Send the <a class="el" href="">CFE Table activate </a> command <br/>
<br/>
</li>
<li><b>Sending the No-op Command </b> - To verify connectivity with the Memory Dwell application, the ground may send an <a class="el" href="md__msgdefs_8h.html#a6833eee2fdf32adcf0524d6885f59b10">MD No-op command </a>. If the packet length field in the command is set to the value expected by the MD app, then the command counter will increment and a <a class="el" href="md__events_8h.html#acf8c8def166ef56ec58015b2b875abf2">No-op informational event message </a> will be sent. This no-op event will show the version number of the MD application.<br/>
<br/>
</li>
<li><b>Sending the reset counters command</b> - The reset counters command will reset only the telemetry points listed here:<br/>
<br/>
 a) <a class="el" href="struct_m_d___hk_tlm__t.html#a2d32b71b27d287a13d511cf1d4a552f8">$sc_$cpu_MD_CMDPC </a> - Number of accepted commands <br/>
 b) <a class="el" href="struct_m_d___hk_tlm__t.html#a92de7c26bc050208f77b5615d3a6f12c">$sc_$cpu_MD_CMDEC </a> - Number of rejected commands <br/>
<br/>
</li>
<li><b>Monitoring the command counter</b> - The command counter, MD_CMDPC, will increment when the MD application receives any valid command.<br/>
<br/>
</li>
<li><b>Monitoring the command error counter</b> - The command error counter will increment under the following conditions:<br/>
<br/>
 a) Invalid command code <br/>
 b) Unexpected packet length field for <a class="el" href="md__msgids_8h.html#a34383dbc7ac1e3c4848fb1bad62ccac3">'MD Wakeup' command </a> <br/>
 c) Unexpected packet length field for <a class="el" href="md__msgids_8h.html#a36f029aa38cbbacf0c92f6e1a2c9444f">'Send MD Housekeeping' command </a> <br/>
 d) Unexpected packet length field for a ground command <br/>
 e) Invalid command argument <br/>
<br/>
</li>
<li><b>Enabling and Disabling Dwell Packet Streams</b> - The enabled/disabled state of dwell packet streams can be modified using the start and stop ground commands. The enabled/disabled state is also controlled by the enabled flag in the dwell load table.Note that a dwell packet stream will not actively operate if the total delay count is zero, no matter what the enabled/disabled state is.<br/>
<br/>
</li>
<li><b>Specifying a memory dwell stream</b> - Each Memory Dwell Table consists of <a class="el" href="md__platform__cfg_8h.html#a2b1a6acbd1ce79e5c6979d700c88262b">MD_DWELL_TABLE_SIZE</a> entries. Each entry serves either as an individual dwell definition or a null entry. The MD will build packets beginning with the dwell specified in the first slot, adding additional dwells until it reaches either a null entry or the end of the table. Each individual memory dwell definition is specified by a memory address, the number of delay counts before the next read, and the dwell length. The number of delay counts is the number of wakeup calls the application will receive before the next memory dwell read. A valid Dwell Table entry which is an individual memory dwell definition must have:<br/>
<br/>
 a) a valid memory address (Symbol name, if any, must be in operating system Symbol Table, and resolved address i.e. symbol plus offset must be in a valid range), <br/>
 b) a value of 1, 2, or 4 for dwell length.<br/>
<br/>
 A valid Dwell Table entry which is a null entry must have a zero value for dwell length.</li>
</ol>
<p>Next: <a class="el" href="cfsmdreq.html">CFS Memory Dwell Requirements</a> <br/>
 Prev: <a class="el" href="cfsmdovr.html">CFS Memory Dwell Overview</a> </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jul 2017 for CFS Memory Dwell (MD) Application on  User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
