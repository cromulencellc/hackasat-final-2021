<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CFS CFDP (CF) Application on  User&apos;s Guide: CFS CF Commands</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="index.html">index</a></div>
<h1><a class="anchor" name="cfscfcmds">CFS CF Commands</a></h1><h2><a class="anchor" name="cfscfcmdsnoop">
Noop Command</a></h2>
The CF Noop command is sent to CF using message ID CF_CMD_MID with command code <a class="el" href="cf__msg_8h.html#f6d622455040488b182740edac72b819">CF_NOOP_CC</a>. This command is useful for verifying that the command interface to the CF Application is working. It also causes an <a class="el" href="cf__events_8h.html#f90064d748f39cc6ec106ec841efcd7e">Event Message </a> to be generated that contains the CF Application's version information. It should be noted that the version information can also be obtained when the Application starts up. After CF has successfully initialized itself, an <a class="el" href="cf__events_8h.html#dfa859c390f9979bd5717616658ea15c">Event Message </a> is generated that indicates successful initialization and also includes the Application's version information. Both of these event messages are 'Informational' and are NOT filtered by default.<h2><a class="anchor" name="cfscfcmdsrstctr">
Reset Counters Command</a></h2>
The CF Reset counters command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#aeceade09fd37bb9cfd17e9f79f698a0">CF_RESET_CC</a>. This command is used to reset the counters in the housekeeping telemetry packet. All counters can be reset or they can be reset by category. The categories are command counters, fault counters, incoming file counters and outgoing file counters.<p>
When the command is executed successfully, the command counter will be zero and <a class="el" href="cf__events_8h.html#e3ebc837eed56c656b11c1d95e67272f">Event Message </a> will be generated that displays the value of the parameter received. This event message is a 'Debug' type and is filtered by default.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      uint8   Value;
      uint8   Spare[3];
  
  } CF_ResetCtrsCmd_t;
  </pre></div><p>
The first parameter, <code>Value</code>, identifies which category of counters to reset or if Value is set to zero, all counters will be reset. Value should be one to reset command counters only. Value should be set to two to reset fault counters only. Value should be set to three to reset incoming transaction counters. Value should be set to four to reset all outgoing transaction counters.<h2><a class="anchor" name="cfscfcmdspbf">
Playback File Command</a></h2>
The CF Playback File command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#4cf08468fc9d62a593adf4b1ce959152">CF_PLAYBACK_FILE_CC</a>.<p>
This command is used to queue a file to be sent by the CF application. To 'playback' a file means to output, or send a file.<p>
When the command is executed successfully, the command counter will increment and <a class="el" href="cf__events_8h.html#af7621b7be691639396ce5cb4a600009">Event Message </a> will be generated that displays the value of the parameters received. This event message is a 'Debug' type and is filtered by default.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE]; /* CCSDS Command Header 8 bytes */ 
      uint8   Class;                          /* CFDP Class 1 or 2 */
      uint8   Channel;                        /* Zero based channel number */
      uint8   Priority;                       /* Zero based priority, max 255 */
      uint8   Preserve;                       /* Delete(0) or Keep(1) file */
      char    SrcFilename[OS_MAX_PATH_LEN];   /* Path/Filename to send */ 
      char    DstFilename[OS_MAX_PATH_LEN];   /* Path/Filename at destination */ 
  
  }CF_PlaybackFileCmd_t;
  </pre></div><p>
The first parameter, <code>Class</code>, identifies whether the file will be transferred using CF_CLASS_1 or CF_CLASS_2. For Class 1 transfers, CF will send the data once and expect no feedback from the peer. Class 2 transfers are more reliable and attempt to fill in data that may have been dropped on the first attempt.<p>
The second parameter, <code>Channel</code>, specifies the output channel in which the file will be sent. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<p>
The third parameter, <code>Priority</code>, specifies where the file is placed on the pending queue. High priority files are placed at the front of the queue. A value of zero is the highest priority. A value of 255 is the lowest priority.<p>
The fourth parameter, <code>Preserve</code>, specifies whether the file will be deleted or preserved by CF after the transfer successfully completes. To have the file deleted by CF, set this parameter to zero. If this parameter is set to one, the file will not be deleted. Regardless of the setting, if the file-transfer is not successful the file will not be deleted.<p>
The fifth parameter, <code>SrcFilename</code>, specifies the path name and filename to send. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> bytes. Although OS_MAX_PATH_LEN is a configuration parameter the default setting is 64. The SrcFilename must be an existing file. The string must begin with a forward slash, have no spaces and be properly terminated.<p>
The last parameter, <code>DstFilename</code>, specifies the destination path name and filename. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> bytes. Although OS_MAX_PATH_LEN is a configuration parameter the default setting is 64. This parameter is delivered to the peer so that the peer knows where to store the file. The peer engine dictates the requirements of this string. The CF application allows this string to be NULL in which case the peer engine will store the incoming file in the default directory. If the string is not NULL, CF requires that it is properly terminated and contains no spaces. This parameter can be used to rename the file after it's received at the destination.<h2><a class="anchor" name="cfscfcmdspbd">
Playback Directory Command</a></h2>
The CF Playback Directory command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#a94b2d4fd93fbe632492151fb3493cfb">CF_PLAYBACK_DIR_CC</a>. The command causes an <a class="el" href="cf__events_8h.html#ad2274627067070530202e9707ebc1be">Event Message </a> to be generated that displays the value of the parameters received. This event message is a 'Debug' type and is filtered by default. This command is used to queue the files that are located in the specified directory at the time the command is received.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
To 'playback' a directory means to send all files in that directory. To queue the files for sending, the class must be 1 or 2, the channel must be in-use, the files must be closed and not be active or pending, the preserve parameter must be 0 (Delete) or 1 (Keep), the path names must include no spaces and be properly terminated. The SrcPath must begin and end with a forward slash. All possible values for Priority are valid. A priority value of zero is the highest priority.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      uint8   Class;
      uint8   Chan;
      uint8   Priority;
      uint8   Preserve;
      char    SrcPath[OS_MAX_PATH_LEN];
      char    DstPath[OS_MAX_PATH_LEN];
      
  }CF_PlaybackDirCmd_t;
  </pre></div><p>
The first parameter, <code>Class</code>, identifies whether the files will be transferred using CF_CLASS_1 or CF_CLASS_2. For Class 1 transfers, CF will send the data once and expect no feedback from the peer. Class 2 transfers are more reliable and attempt to fill in data that may have been dropped on the first attempt.<p>
The second parameter, <code>Chan</code>, specifies the output channel in which the files will be sent. All files in the directory will be sent on the specified channel. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a><ul>
<li>1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.</li></ul>
<p>
The third parameter, <code>Priority</code>, specifies where the files are placed on the pending queue. All files in the directory will be queued with the given priority. High priority files are placed at the front of the queue. A value of zero is the highest priority. A value of 255 is the lowest priority.<p>
The fourth parameter, <code>Preserve</code>, specifies whether the files will be deleted or preserved by CF after the transfer successfully completes. To have the files deleted by CF, set this parameter to zero. If this parameter is set to one, the file will not be deleted. Regardless of the setting, if the file-transfer is not successful the file will not be deleted.<p>
The fifth parameter, <code>SrcPath</code>, specifies the path name where the files are located. The string must have no spaces, be properly terminated and have a forward slash as the last character. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64.<p>
The last parameter, <code>DstPath</code>, specifies where the files are to be stored after they are received by the peer. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> bytes. Although OS_MAX_PATH_LEN is a configuration parameter the default setting delivered with the OSAL is 64. This parameter is delivered to the peer so that the peer knows where to store the file.The peer engine dictates the requirements of this string. The CF application allows this string to be NULL in which case the peer engine will store the incoming files in the default directory. If the string is not NULL, CF requires that it is properly terminated, contains no spaces and ends with a forward slash. There is no way to rename the files at the destination as in the Playback File command.<h2><a class="anchor" name="cfscfcmdsfrz">
Freeze Command</a></h2>
The CF Freeze command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#16781f35a006fe2e2592b996a68c691c">CF_FREEZE_CC</a>. The freeze command has no command parameters. This command is used to freeze all transactions. The freeze command should be applied to both the source and destination peers at nearly the same time. When transactions are frozen, internal timers are paused. When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#f61f48cc66681c75b5e4981c5c8cc1b7">Event Message </a> will be generated. This event message is an 'Informational' type and is NOT filtered by default. To filter this event, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#a73089f56b77fa4373f01702025ab215">CFE_EVS_ADD_EVENT_FILTER_CC</a> with the following parameters, Appname - CF, EventID - <a class="el" href="cf__events_8h.html#f61f48cc66681c75b5e4981c5c8cc1b7">CF_FREEZE_CMD_EID</a>, Mask - 0xFFFF. When transactions are frozen, bit zero of the CF telemetry point 'Engine Flags' will be set to one. If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<h2><a class="anchor" name="cfscfcmdsthw">
Thaw Command</a></h2>
The CF Thaw command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#aca200a0b9be45e02df6f7790dc0ae37">CF_THAW_CC</a>. The thaw command has no command parameters. This command is used to thaw all transactions that were commanded to 'freeze' earlier. The thaw command should be applied to both the source and destination peers at nearly the same time. When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#df832b49e9e04f1ed5570e67fe948bac">Event Message </a> will be generated. This event message is an 'Informational' type and is NOT filtered by default. To filter this event, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#a73089f56b77fa4373f01702025ab215">CFE_EVS_ADD_EVENT_FILTER_CC</a> with the following parameters, Appname - CF, EventID - <a class="el" href="cf__events_8h.html#df832b49e9e04f1ed5570e67fe948bac">CF_THAW_CMD_EID</a>, Mask - 0xFFFF. When transactions are thawed, bit zero of the CF telemetry point 'Engine Flags' will be set to zero. If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<h2><a class="anchor" name="cfscfcmdssus">
Suspend Command</a></h2>
The CF Suspend command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#30735d47c7bd672ba1c27566ac1abce8">CF_SUSPEND_CC</a>. This command is used to suspend one or all transactions. The suspend command has one command parameter that indicates what transaction to suspend. See details below. The suspend command should be applied to both the source and destination peers at nearly the same time. When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">Event Message </a> will be generated displaying the parameter value received. This event message is an 'Informational' type and is NOT filtered by default. To filter this event, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#a73089f56b77fa4373f01702025ab215">CFE_EVS_ADD_EVENT_FILTER_CC</a> with the following parameters, Appname - CF, EventID - <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">CF_CARS_CMD_EID</a>, Mask - 0xFFFF. Also, the 'Suspended Transactions' count on the Engine Housekeeping telemetry page will increment when the command is executed successfully. If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure. Use the <a class="el" href="cf__msg_8h.html#c74dbc49e4488021dc7725dfa0a143e7">CF_SEND_TRANS_DIAG_DATA_CC</a> command to verify that a transaction is suspended.<p>
NOTE: Suspending an outgoing transaction before EOF is sent, will pause the flow of PDUs on that channel. This happens because the next file is started when the current file EOF is sent. See the CF_KICKSTART_CC command description for more detail. If a user wishes to stop the current transaction (before the EOF is sent) and still allow the next pending file to begin, the current transaction should be cancelled (or abandoned) in lieu of being suspended. Canceling is always a better option than abandoning.<p>
NOTE: When a suspended transaction is cancelled, the cancel does not take affect until the transaction is resumed.<p>
<div class="fragment"><pre class="fragment">  /* Cancel,Abandon,Resume,Suspend (CARS) Cmds */
  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      char    Trans[OS_MAX_PATH_LEN];
  
  }CF_CARSCmd_t;
  </pre></div><p>
The <code>Trans</code> parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters and specifies the transaction to suspend. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64. The fsw will accept this string if given one of three formats. The first format is the transaction ID. This format has the form of Source Entity ID, underscore, Transaction Number. (Example 0.24_5) The fsw will also accept a source filename. This format must include the path and begin with a forward slash. (Example /ssr/science009.dat) The final possible string format would be 'All' (without the single quotes) and used to suspend all transactions. The lettering of the word 'All' is not case sensitive.<h2><a class="anchor" name="cfscfcmdsres">
Resume Command</a></h2>
The CF Resume command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#08d9a178c4d77f6cea61de0fdb12e5f2">CF_RESUME_CC</a>. This command is used to resume a suspended transaction or all transactions. The resume command has one command parameter that indicates what transaction to resume. See details below. The resume command should be applied to both the source and destination peers at nearly the same time. When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">Event Message </a> will be generated displaying the parameter value received. This event message is an 'Informational' type and is NOT filtered by default. To filter this event, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#a73089f56b77fa4373f01702025ab215">CFE_EVS_ADD_EVENT_FILTER_CC</a> with the following parameters, Appname - CF, EventID - <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">CF_CARS_CMD_EID</a>, Mask - 0xFFFF. Also, the 'Suspended Transactions' count on the Engine Housekeeping telemetry page will decrement when the command is executed successfully. If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure. Use the <a class="el" href="cf__msg_8h.html#c74dbc49e4488021dc7725dfa0a143e7">CF_SEND_TRANS_DIAG_DATA_CC</a> command to verify that a transaction is suspended or not.<p>
<div class="fragment"><pre class="fragment">  /* Cancel,Abandon,Resume,Suspend (CARS) Cmds */
  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      char    Trans[OS_MAX_PATH_LEN];
  
  }CF_CARSCmd_t;
  </pre></div><p>
The <code>Trans</code> parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters and specifies the transaction to resume. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64. The fsw will accept this string if given one of three formats. The first format is the transaction ID. This format has the form of Source Entity ID, underscore, Transaction Number. (Example 0.24_5) The fsw will also accept a source filename. This format must include the path and begin with a forward slash. (Example /ssr/science009.dat) The final possible string format would be 'All' (without the single quotes) and used to resume all transactions. The lettering of the word 'All' is not case sensitive.<h2><a class="anchor" name="cfscfcmdscan">
Cancel Command</a></h2>
The CF Cancel command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#5d5c775036bedb35ff5d3b0bac930fd8">CF_CANCEL_CC</a>. This command is used to cancel a transaction or all transactions. The cancel command has one command parameter that indicates what transaction to cancel. See details below. The cancel command should be sent to the source entity only. For example, uplink transactions should be cancelled at the ground engine. The CF application should not receive a cancel command in this case. The CF application will learn of the cancel request through the protocol messages. Downlink transactions and outgoing transactions (with respect to CF) should be cancelled by sending this CF cancel command.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">Event Message </a> will be generated displaying the parameter value received. This event message is an 'Informational' type and is NOT filtered by default. To filter this event, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#a73089f56b77fa4373f01702025ab215">CFE_EVS_ADD_EVENT_FILTER_CC</a> with the following parameters, Appname - CF, EventID - <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">CF_CARS_CMD_EID</a>, Mask - 0xFFFF. Also, the 'Cancel Request' count on the Fault Counter Housekeeping telemetry page and the 'Total Failed Transactions' count on the main HK page will increment when the command is executed successfully. If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure. Use the <a class="el" href="cf__msg_8h.html#c74dbc49e4488021dc7725dfa0a143e7">CF_SEND_TRANS_DIAG_DATA_CC</a> command or the <a class="el" href="cf__msg_8h.html#5a5f69c4982bbdafba7beeb3c394d735">CF_QUICKSTATUS_CC</a> command to verify if a transaction has been cancelled.<p>
NOTE: If a Cancel command is received by CF on an outgoing transaction that is suspended, the cancel does not take affect until the transaction is resumed.<p>
<div class="fragment"><pre class="fragment">  /* Cancel,Abandon,Resume,Suspend (CARS) Cmds */
  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      char    Trans[OS_MAX_PATH_LEN];
  
  }CF_CARSCmd_t;
  </pre></div><p>
The <code>Trans</code> parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters and specifies the transaction to cancel. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64. The fsw will accept this string if given one of three formats. The first format is the transaction ID. This format has the form of Source Entity ID, underscore, Transaction Number. (Example 0.24_5) The fsw will also accept a source filename. This format must include the path and begin with a forward slash. (Example /ssr/science009.dat) The final possible string format would be 'All' (without the single quotes) and used to cancel all transactions. The lettering of the word 'All' is not case sensitive.<h2><a class="anchor" name="cfscfcmdsabd">
Abandon Command</a></h2>
The CF Abandon command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#4dad436b6b8c8474be0b92040bb53e05">CF_ABANDON_CC</a>. This command is used to abandon a transaction or all transactions. The abandon command has one command parameter that indicates what transaction to abandon. See details below. The abandon command should be applied to both the source and destination peers at nearly the same time.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">Event Message </a> will be generated displaying the parameter value received. This event message is an 'Informational' type and is NOT filtered by default. To filter this event, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#a73089f56b77fa4373f01702025ab215">CFE_EVS_ADD_EVENT_FILTER_CC</a> with the following parameters, Appname - CF, EventID - <a class="el" href="cf__events_8h.html#906717c2349c38ef309f2cd8a8aba9b0">CF_CARS_CMD_EID</a>, Mask - 0xFFFF.<p>
The 'Total Failed Transactions' count on the main HK page will increment when the command is executed successfully. If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure. Use the <a class="el" href="cf__msg_8h.html#c74dbc49e4488021dc7725dfa0a143e7">CF_SEND_TRANS_DIAG_DATA_CC</a> command or the <a class="el" href="cf__msg_8h.html#5a5f69c4982bbdafba7beeb3c394d735">CF_QUICKSTATUS_CC</a> command to verify if a transaction has been canceled.<p>
NOTE: Unlike the cancel command, if a suspended transaction is abandoned, the transaction will be abandoned at the time the abandon command is received. Likewise, if a frozen transaction is abandoned, the transaction will be abandoned when the abandoned cmd is received.<p>
<div class="fragment"><pre class="fragment">  /* Cancel,Abandon,Resume,Suspend (CARS) Cmds */
  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      char    Trans[OS_MAX_PATH_LEN];
  
  }CF_CARSCmd_t;
  </pre></div><p>
The <code>Trans</code> parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters and specifies the transaction to cancel. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64. The fsw will accept this string if given one of three formats. The first format is the transaction ID. This format has the form of Source Entity ID, underscore, Transaction Number. (Example 0.24_5) The fsw will also accept a source filename. This format must include the path and begin with a forward slash. (Example /ssr/science009.dat) The final possible string format would be 'All' (without the single quotes) and used to abandon all transactions. The lettering of the word 'All' is not case sensitive.<h2><a class="anchor" name="cfscfcmdssmp">
Set MIB Parameter Command</a></h2>
The CF Set MIB Parameter command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#7c205115c307a9edd170169b848c23cd">CF_SET_MIB_PARAM_CC</a>. This command is used to change the flight engine Message Information Base (MIB). The MIB is a term used in the CCSDS blue book that can be interpreted as the engine configuration parameters. The command has two command parameters, Param indicates which parameter to change, and Value indicates the new setting.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#08c2ed1939460ba68f105b940e1c26b9">Event Message </a> will be generated displaying the parameter values received. This event message is an 'Informational' type and is NOT filtered by default. To filter this event, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#a73089f56b77fa4373f01702025ab215">CFE_EVS_ADD_EVENT_FILTER_CC</a> with the following parameters, Appname - CF, EventID - <a class="el" href="cf__events_8h.html#08c2ed1939460ba68f105b940e1c26b9">CF_SET_MIB_CMD_EID</a>, Mask - 0xFFFF.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure. To verify successful execution, send the <a class="el" href="cf__msg_8h.html#723bcf2ec817686d6ea15c3fe22bdda3">CF_GET_MIB_PARAM_CC</a> command and verify displayed value matches the new setting.<p>
This command may be used to change any flight MIB parameter. The Param string must match the flight engine-defined string. When using this command through the Asist command browser, only the Value parameter is needed to change some settings. The reason is the Asist command database is setup to fill-in the engine-defined strings that are most often changed. These parameters include ACK_LIMIT, ACK_TIMEOUT, INACTIVITY_TIMEOUT, NAK_LIMIT, NAK_TIMEOUT, SAVE_INCOMPLETE_FILES, OUTGOING_FILE_CHUNK_SIZE.<p>
NOTE: Changing these parameters will change the actual table values, thereby changing the checksum of the CF configuration table.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      char    Param [CF_MAX_CFG_PARAM_CHARS];
      char    Value [CF_MAX_CFG_VALUE_CHARS]; 
  }CF_SetMibParam_t;
  </pre></div><p>
The <code>Param</code> parameter is a string with max size equal to CF_MAX_CFG_PARAM_CHARS characters and specifies which engine parameter to set. CF_MAX_CFG_PARAM_CHARS is set to a value of 32.<p>
The <code>Value</code> parameter is a string with max size equal to CF_MAX_CFG_VALUE_CHARS characters and specifies the new value of the engine parameter. CF_MAX_CFG_VALUE_CHARS is set to a value of 16.<h2><a class="anchor" name="cfscfcmdsgmp">
Get MIB Parameter Command</a></h2>
The CF Set MIB Parameter command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#723bcf2ec817686d6ea15c3fe22bdda3">CF_GET_MIB_PARAM_CC</a>. This command is used to view a single Message Information Base (MIB) parameter. The MIB is a term used in the CCSDS blue book that can be interpreted as the engine configuration parameters.<p>
The command has one command parameter, Param indicates which parameter to view. The parameter given and its current setting will be displayed in the <a class="el" href="cf__events_8h.html#2a28410d13557ba4172568040ef8f212">CF_GET_MIB_CMD_EID</a> event.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#2a28410d13557ba4172568040ef8f212">Event Message </a> will be generated displaying the given parameter value and the current setting for that parameter. This event message is an 'Informational' type and is NOT filtered by default.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
This command may be used to view any flight MIB parameter. The Param string must match the flight engine-defined string. The Asist command browser fills-in the one and only command parameter (Param) string for the following MIB parameters: ACK_LIMIT, ACK_TIMEOUT, INACTIVITY_TIMEOUT, NAK_LIMIT, NAK_TIMEOUT, SAVE_INCOMPLETE_FILES, OUTGOING_FILE_CHUNK_SIZE.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];    
      char    Param [CF_MAX_CFG_PARAM_CHARS];
  }CF_GetMibParam_t;  
  </pre></div><p>
The <code>Param</code> parameter is a string with max size equal to CF_MAX_CFG_PARAM_CHARS characters and specifies which engine parameter to set. CF_MAX_CFG_PARAM_CHARS is set to a value of 32.<h2><a class="anchor" name="cfscfcmdstdc">
Transaction Diagnostics Command</a></h2>
The CF Transaction Diagnostics command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#c74dbc49e4488021dc7725dfa0a143e7">CF_SEND_TRANS_DIAG_DATA_CC</a>.<p>
This command is used to obtain information about a single transaction. This command has one command parameter that indicates the transaction of interest.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#74db591f8814954c854acfc845eb2885">Event Message </a> will be generated displaying the parameter value received. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
The data sent in response to this command has two sections, engine-held transaction data and application-held transaction data. The engine-held transaction data is valid for active transactions only.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];    
      char    Trans[OS_MAX_PATH_LEN];
  
  }CF_SendTransCmd_t;
  </pre></div><p>
The <code>Trans</code> parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters and specifies the transaction data to send. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64. The fsw will accept this string if given one of two formats. The first format is the transaction ID. This format has the form of Source Entity ID, underscore, Transaction Number. (Example 0.24_5) The second format is the source filename. This format must include the path and begin with a forward slash. (Example /ssr/science009.dat) The string 'All' is not valid for this command.<h2><a class="anchor" name="cfscfcmdsspp">
Set Poll Directory Parameters Command</a></h2>
The CF Set Poll Directory Parameters command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code CF_SET_POLL_DIR_PATH_CC.<p>
This command is used to change one or more polling directory parameters. It is required for the operator to provide all the parameters. For example, to change the priority of a polling directory, one would set the new priority value in the Priority parameter and the unchanged values for Class, Preserve, SrcPath and DstPath.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#1fd31cff3bf8fbd7b2f4cb8fd4bc58b9">Event Message </a> will be generated displaying the parameter value received. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      uint8   Chan;   /* 0 to (CF_MAX_PLAYBACK_CHANNELS - 1) */
      uint8   Dir;    /* 0 to (CF_MAX_POLLING_DIRS_PER_CHAN - 1) */
      uint8   Class;
      uint8   Priority;
      uint8   Preserve;
      uint8   Spare[3];
      char    SrcPath[OS_MAX_PATH_LEN];
      char    DstPath[OS_MAX_PATH_LEN];
  
  } CF_SetPollParamCmd_t;
  </pre></div><p>
The first parameter, <code>Chan</code>, specifies the output channel which contains the polling directory. Every polling directory belongs to one and only one output channel. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<p>
The second parameter, <code>Dir</code>, identifies the polling directory to change. Each polling directory is numbered from 0 to (<a class="el" href="cf__platform__cfg_8h.html#cc7d2782cd5ca78ed107ca4414220b98">CF_MAX_POLLING_DIRS_PER_CHAN</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#cc7d2782cd5ca78ed107ca4414220b98">CF_MAX_POLLING_DIRS_PER_CHAN</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command. The polling directory number may be obtained by viewing the contents of the CF configuration table.<p>
The third parameter, <code>Class</code>, can be set to a value of one or two. For Class 1 transfers, CF will send the data once and expect no feedback from the peer. Class 2 transfers are more reliable and attempt to fill in data that may have been dropped on the first attempt.<p>
The fourth parameter, <code>Priority</code>, specifies where the files from this directory will be placed on the pending queue. High priority files are placed at the front of the queue. A value of zero is the highest priority. A value of 255 is the lowest priority.<p>
The fifth parameter, <code>Preserve</code>, specifies whether the file will be deleted or preserved by CF after the transfer successfully completes. To have the file deleted by CF, set this parameter to zero. If this parameter is set to one, the file will not be deleted. Regardless of the setting, if the file-transfer is not successful the file will not be deleted.<p>
The sixth parameter, <code>SrcPath</code>, specifies the path name of the polling directory. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> bytes. Although OS_MAX_PATH_LEN is a configuration parameter the default setting is 64. The SrcPath must be an existing directory. The string must begin with a forward slash, have no spaces and be properly terminated.<p>
The last parameter, <code>DstPath</code>, specifies the destination path name. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> bytes. Although OS_MAX_PATH_LEN is a configuration parameter the default setting delivered with the OSAL is 64. This parameter is delivered to the peer so that the peer knows where to store the file. The peer engine dictates the requirements of this string. The CF application allows this string to be NULL in which case the peer engine will store the incoming file in the default directory. If the string is not NULL, CF requires that it is properly terminated and contains no spaces.<h2><a class="anchor" name="cfscfcmdsscp">
Send Configuration Parameters Command</a></h2>
The CF Send Configuration Parameters command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a>. The Send Configuration Parameters command has no command parameters. This command is used to view the compile-time configuration parameters or the engine timer values. The packet generated includes compile-time configuration parameters from the platform configuration header file (<a class="el" href="cf__platform__cfg_8h.html">cf_platform_cfg.h</a>). It also queries the engine to get the timer values. The packet sent does not include the run-time configuration parameters. The run-time configuration parameters can be viewed by dumping the CF configuration table.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#c9e7f74e7b36466b184f49aa22b5dc10">Event Message </a> will be generated. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<h2><a class="anchor" name="cfscfcmdswqi">
Write Queue Information Command</a></h2>
The CF Write Queue Information command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#6ff4205a06c02bf8ba548eb69c718ddf">CF_WRITE_QUEUE_INFO_CC</a>.<p>
This command is used to write the contents of a single queue to a file. CF has a pending, queue, an active queue and a history queue for each output channel. CF also has an active queue and a history queue for incoming transactions. After the file is written successfully, steps must be taken to transfer the file to Asist so that the information can be viewed on the page.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#979e8a650353bcd3e39fe886a7fc44da">Event Message </a> will be generated displaying the filename that contains the queue information as well as the number of queue entries written to the file and the size of the file created. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];    
      uint8   Type;
      uint8   Chan;
      uint8   Queue;
      uint8   Spare;
      char    Filename[OS_MAX_PATH_LEN];
  
  }CF_WriteQueueCmd_t;
  </pre></div><p>
The first parameter, <code>Type</code>, specifies the queue type. The queue type may be uplink (incoming) or downlink (outgoing) or incoming queue (value of one) or a downlink or outgoing queue (value of two).<p>
The second parameter, <code>Chan</code>, is necessary only if the Type parameter is set to a value of two (downlink). If the Type parameter is set to a value of one (uplink), the code does not read this parameter. Chan specifies the downlink channel that owns the queue. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<p>
The third parameter, <code>Queue</code>, identifies which queue contents will be written to the file. A value of 0 for pending queue, 1 for active and 2 for history. Because there is no uplink pending queue, a value of zero is not valid when the Type parameter is set to one (uplink).<p>
The fourth parameter, <code>Filename</code>, specifies the name of the file that will receive the queue data. If this parameter contains a NULL string, the CF application will use the default filename which is defined by <a class="el" href="cf__platform__cfg_8h.html#b83b498506dc0268d9bfe4429d02c57e">CF_DEFAULT_QUEUE_INFO_FILENAME</a> in the CF platform configuration file. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> bytes. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64.<h2><a class="anchor" name="cfscfcmdsed">
Enable Dequeue Command</a></h2>
The CF Enable Dequeue command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#8c4e7154bfad1a8303ac15028857e932">CF_ENABLE_DEQUEUE_CC</a>.<p>
This command is used to enable reading from the pending queue on a particular channel. It has one parameter (channel) and is sent when the pending queue reads are disabled for that channel. The pending queue holds the names of the files that are waiting to be sent out by CF. This command has no affect on incoming file transactions.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#d387ca95130e4b4eb2c26645b9c0d9c4">Event Message </a> will be generated indicating that the given channel pending queue is enabled. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      uint8   Chan;
      uint8   Spare[3];
  
  } CF_EnDisDequeueCmd_t;
  </pre></div><p>
The first and only parameter, <code>Chan</code>, specifies which pending queue to enable. Each channel has one pending queue. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<h2><a class="anchor" name="cfscfcmdsdd">
Disable Dequeue Command</a></h2>
The CF Enable Dequeue command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#36e155eef4eff74ba49c7246c5899be9">CF_DISABLE_DEQUEUE_CC</a>.<p>
This command is used to disable reading from the pending queue on a particular channel. It has one parameter (channel) and sent when the user would like to stop sending files on a particular channel.<p>
NOTE: This command does not stop a file transaction that is in progress on the specified channel. Use the cancel command to stop a file transaction that is in progress.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#c35e24e584366379e76d7bcd86aacd28">Event Message </a> will be generated indicating that the pending queue on the given channel is disabled. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      uint8   Chan;
      uint8   Spare[3];
  
  } CF_EnDisDequeueCmd_t;
  </pre></div><p>
The first and only parameter, <code>Chan</code>, specifies which pending queue to disable. Each channel has one pending queue. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<h2><a class="anchor" name="cfscfcmdsedp">
Enable Directory Polling Command</a></h2>
The CF Enable Directory Polling command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#fb96e94fce70e9c7784094dfb015cc3d">CF_ENABLE_DIR_POLLING_CC</a>.<p>
This command is used to enable one or all polling directories on a particular channel. CF will check polling directories for filenames and queue them for output, only if the polling directory is enabled. Polling directory processing consumes a fair amount of CPU utilization. Opening directories periodically and looping through hidden files, closed files and files that have already been queued can take a substantial amount of CPU time. It is recommended to keep polling directories disabled when they are not actively receiving files.<p>
When the command is executed successfully, the command counter is incremented and either <a class="el" href="cf__events_8h.html#efffd952b9dc7f7195fa0ab3dbb15bb5">Event Message </a> (for a single poll directory) or <a class="el" href="cf__events_8h.html#cc92e063111b850968e4c74605db943f">Event Message </a> (for all poll directories on the channel) will be generated indicating that the polling directory is enabled. These event messages are 'Debug' type and are filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
    uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE]; 
    uint8   Chan;
    uint8   Dir;
    uint8   Spare[2];

  } CF_EnDisPollCmd_t;
  </pre></div><p>
The first parameter, <code>Chan</code>, specifies which channel contains the polling directory to enable. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<p>
The second parameter, <code>Dir</code>, specifies which polling directory to enable. To enable all polling directories on a specific channel, set this parameter to 0xFF. The polling directories are numbered from zero to (CF_MAX_POLLING_DIRS_PER_CHAN - 1). CF_MAX_POLLING_DIRS_PER_CHAN is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command. The polling directory number may be obtained by viewing the contents of the CF configuration table.<h2><a class="anchor" name="cfscfcmdsddp">
Disable Directory Polling Command</a></h2>
The CF Enable Directory Polling command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#f68f064e235204f8fa74bbd943275cea">CF_DISABLE_DIR_POLLING_CC</a>.<p>
This command is used to disable one or all polling directories on a particular channel. CF will check polling directories for filenames and queue them for output, only if the polling directory is enabled. Polling directory processing consumes a fair amount of CPU utilization. Opening directories periodically and looping through hidden files, closed files and files that have already been queued can take a substantial amount of CPU time. It is recommended to keep polling directories disabled when they are not actively receiving files.<p>
When the command is executed successfully, the command counter is incremented and either <a class="el" href="cf__events_8h.html#dc1ec6b38eded4075f5cb6905515e307">Event Message </a> (for a single poll directory) or <a class="el" href="cf__events_8h.html#fe02a427aa31bf010790be3e3316bfb3">Event Message </a> (for all poll directories on the channel) will be generated indicating that the polling directory is enabled. These event messages are 'Debug' type and are filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
    uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE]; 
    uint8   Chan;
    uint8   Dir;
    uint8   Spare[2];

  } CF_EnDisPollCmd_t;
  </pre></div><p>
The first parameter, <code>Chan</code>, specifies which channel contains the polling directory to disable. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<p>
The second parameter, <code>Dir</code>, specifies which polling directory to disable. To disable all polling directories on a specific channel, set this parameter to 0xFF. The polling directories are numbered from zero to (CF_MAX_POLLING_DIRS_PER_CHAN - 1). CF_MAX_POLLING_DIRS_PER_CHAN is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command. The polling directory number may be obtained by viewing the contents of the CF configuration table.<h2><a class="anchor" name="cfscfcmdsdqn">
Delete Queue Node Command</a></h2>
The CF Delete Queue Node command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#1c02f00b7b88da649223f0878139f488">CF_DELETE_QUEUE_NODE_CC</a>.<p>
This command is used to remove a node from a queue. A queue node is also known as a queue entry. This command is most often used to remove queue entries for files that are pending. This command may also be used to free memory by removing queue entries from the history queue. See the section named 'CF Memory Use' for more detail about the life cycle of a queue entry.<p>
In the unlikely case that a transaction gets stuck on an active queue, this command may be used to remove the node from the active queue. This is not an expected scenario. Using this command to remove a queue entry from an active queue may result in an adverse affect of unknown consequences. The CF application has protection against accidentally removing a queue node from an active queue. If the transaction specified in the command is found to be on the active queue, a warning event message will be sent, indicating that the transaction is active and the command must be sent again to take affect. See sections named 'Queue Entries' and 'Queues' in this document for more detail.<p>
When the command is executed successfully, the command counter is incremented and either <a class="el" href="cf__events_8h.html#805ebcbcb5303193c7a6636519188fc9">Event Message </a> (for incoming transactions) or <a class="el" href="cf__events_8h.html#1140b38f88818964b1f29b1c12168d0b">Event Message </a> (for outgoing transactions) will be generated indicating that the node has been removed. These event messages are 'Debug' type and are filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      char    Trans[OS_MAX_PATH_LEN];
  
  }CF_DequeueNodeCmd_t;
  </pre></div><p>
The <code>Trans</code> parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters and specifies the transaction data to send. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64. The fsw will accept this string if given one of two formats. The first format is the transaction ID. This format has the form of Source Entity ID, underscore, Transaction Number. (Example 0.24_5) The second format is the source filename. This format must include the path and begin with a forward slash. (Example /ssr/science009.dat) The string 'All' is not valid for this command. Use the purge queue command to remove all nodes on a particular queue.<h2><a class="anchor" name="cfscfcmdspq">
Purge Queue Command</a></h2>
The CF Write Queue Information command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#746093d1392ddf38ec29f59b56e58ca3">CF_PURGE_QUEUE_CC</a>.<p>
This command is used to remove all entries on a single queue. CF has a pending, queue, an active queue and a history queue for each output channel. CF also has an active queue and a history queue for incoming transactions.<p>
When the command is executed successfully, the command counter is incremented and either <a class="el" href="cf__events_8h.html#6d800d1e0a5fb77f63eb709287cb569c">Event Message </a> (for incoming history queue) or <a class="el" href="cf__events_8h.html#de39381443719546acd337b2358511a1">Event Message </a> (for outgoing transactions) will be generated indicating that the node has been removed. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
    uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
    uint8   Type;
    uint8   Chan;
    uint8   Queue;
    uint8   Spare;
  }CF_PurgeQueueCmd_t;
  </pre></div><p>
The first parameter, <code>Type</code>, specifies the queue type. The queue type may be uplink/incoming (value of one) or downlink/outgoing (value of two).<p>
The second parameter, <code>Chan</code>, is necessary only if the Type parameter is set to a value of two (downlink). If the Type parameter is set to a value of one (uplink), the code does not read this parameter. Chan specifies the output channel that owns the queue. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<p>
The third parameter, <code>Queue</code>, identifies which queue will be purged. A value of 0 for pending queue, 1 for active and 2 for history. Because there is no uplink pending queue, a value of zero is not valid when the Type parameter is set to one (uplink).<h2><a class="anchor" name="cfscfcmdswat">
Write Active Transactions Command</a></h2>
The CF Write Active Transactions command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#6e9f4a7e2e14771d34134e85e31f6828">CF_WR_ACTIVE_TRANS_CC</a>. The command has two command parameters and is used to view all transactions that are currently active.<p>
This command will write the contents of one or more active queues to a file. CF has an active queue for each output channel and one active queue for incoming transactions. After the file is written successfully, steps must be taken to transfer the file to the ground system so that the information can be viewed on the page.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#470c7aa272d55ce824c586aaad293df1">Event Message </a> will be generated indicating that file was written successfully. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];    
      uint8   Type;
      char    Filename[OS_MAX_PATH_LEN];
  
  }CF_WriteActiveTransCmd_t;
  </pre></div><p>
The first parameter, <code>Type</code>, specifies the queue type. The queue type may be uplink/incoming (value of one) or downlink/outgoing (value of two).<p>
The second parameter, <code>Filename</code>, specifies the name of the file that will receive the queue data. If this parameter contains a NULL string, the CF application will use the default filename which is defined by <a class="el" href="cf__platform__cfg_8h.html#b83b498506dc0268d9bfe4429d02c57e">CF_DEFAULT_QUEUE_INFO_FILENAME</a> in the CF platform configuration file. This parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> bytes. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64.<h2><a class="anchor" name="cfscfcmdskck">
Kickstart Command</a></h2>
The CF Kickstart command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#539a97e176f84aa3eae91d9e6e1f6e7e">CF_KICKSTART_CC</a>. The command has one command parameter and is used to start the transmission of the next file on the pending queue when other attempts have failed.<p>
This command can be used in the unlikely event that PDUs stop flowing on an output channel that is enabled and has files waiting to be sent. Once a transaction begins and other files are pending, the CF design attempts to maintain a steady flow of outgoing PDUs on each channel. The CF application will start the next file on the pending queue, immediately after the EOF PDU on the current transaction is sent out. In the unlikely scenario that the engine does not output the EOF PDU of a transaction, the next file on the pending queue will not begin.<p>
CAUTION: This command is not needed under normal conditions and should be used only when cancel/abandon/resume/channel-enable commands fail to start the next pending file.<p>
NOTE: Suspending an outgoing transaction before EOF is sent, will pause the flow of PDUs on that channel. If a user wishes to stop the current transaction (before the EOF is sent) and still allow the next pending file to begin, the current transaction should be cancelled (or abandoned) in lieu of being suspended. In most cases, canceling is a better option than abandoning a transaction.<p>
WARNING: It is not recommended that this command be used when a suspended transaction has paused the flow of PDUs on a channel. Instead, resume the suspended transaction to re-establish the flow of PDUs.<p>
When the command is executed successfully, the command counter is incremented and the <a class="el" href="cf__events_8h.html#d967ffdd91c738d62c62419aaa0d77d2">Event Message </a> will be generated indicating the channel that has been restarted. This event message is a 'Debug' type and is filtered by default. To unfilter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#29b41d0faceb163a3a8c2e912814ff43">CFE_EVS_ENABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1. To filter CF debug events, send the EVS command <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/cfe__evs__msg_8h.html#e45b34a8813bbc0b632d19c6ba71bc17">CFE_EVS_DISABLE_APP_EVENT_TYPE_CC</a> with the following parameters, Appname - CF, Mask - 0x1.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      uint8   Chan;
      uint8   Spare[3];
  
  } CF_KickstartCmd_t;
  </pre></div><p>
The <code>Chan</code> parameter specifies the output channel that needs to be started. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<h2><a class="anchor" name="cfscfcmdsqs">
Quick Status Command</a></h2>
The CF Quick Status command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#5a5f69c4982bbdafba7beeb3c394d735">CF_QUICKSTATUS_CC</a>.<p>
This command is used to display high level status of the specified transaction in an event message. High level status may include Pending, Active, Success, Failed or Suspended. If a file transaction has failed, the condition code will also be displayed indicating the reason for failure.<p>
When the command is executed successfully, the command counter is incremented and <a class="el" href="cf__events_8h.html#98b81cdd2ac39848074cee18b34d69fa">Event Message </a> will be generated indicating the transaction ID, filename and status. This event message is an 'Informational' type and is NOT filtered by default.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      char    Trans[OS_MAX_PATH_LEN];
  
  }CF_QuickStatCmd_t;
  </pre></div><p>
The <code>Trans</code> parameter is a string with max size equal to <a class="elRef" doxygen="cfe.tag:../cfe/" href="../cfe/osconfig_8h.html#26640de8dfdf750721c8757341171828">OS_MAX_PATH_LEN</a> characters and specifies which transaction will have its status displayed in the event. Although OS_MAX_PATH_LEN is a configuration parameter, the default setting delivered with the OSAL is 64. The fsw will accept this string if given one of two formats. The first format is the transaction ID. This format has the form of Source Entity ID, underscore, Transaction Number. (Example 0.24_5) The second format is the source filename. This format must include the path and begin with a forward slash. (Example /ssr/science009.dat) The string 'All' is not valid for this command.<h2><a class="anchor" name="cfscfcmdsgt">
GiveTake Command</a></h2>
The CF GiveTake command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#465681fa851aa2ba4af490032f4c7ae0">CF_GIVETAKE_CC</a>.<p>
This command is used to adjust the handshake semaphore in the unexpected case that the semaphore value lost or gained a count when viewed during idle time. Typically the Telemetry Output (TO) application will create the semaphore with an inital number of 'gives' equal to the depth of TO's input pipe. The semaphore value represents the number of empty buffers on TO's pipe. This value can get askew for example, if CF cannot deliver a PDU after taking the semaphore. In this case the user would be able to send this cmd to 'give' the semaphore to correct the value.<p>
This command will have no affect if throttling is not used on the specified channel.<p>
CAUTION: This command is not needed under normal conditions and should be used only when it is known that the semphore value does not equal the expected count when the throttled channel is in an idle state.<p>
When the command is executed successfully, the command counter is incremented and <a class="el" href="cf__events_8h.html#f2392821dc6737415fb9c600cdff1a22">Event Message </a> will be generated indicating the output channel number and whether the semaphore give or take was successful. This event message is an 'Informational' type and is NOT filtered by default.<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE];
      uint8   Chan;
      uint8   GiveOrTakeSemaphore;
  
  }CF_GiveTakeCmd_t;
  </pre></div><p>
The <code>Chan</code> parameter specifies the output channel that needs to be adjusted. The value range for this parameter is 0 to (<a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> - 1). <a class="el" href="cf__platform__cfg_8h.html#a76089f68b44f9df9446ddfac47d9597">CF_MAX_PLAYBACK_CHANNELS</a> is specified in the CF platform configuration file and can be viewed by sending the <a class="el" href="cf__msg_8h.html#667fbd89fea7920c8f717029e449433a">CF_SEND_CFG_PARAMS_CC</a> command.<p>
The <code>GiveOrTakeSemaphore</code> parameter specifies whether a semaphore-give (0) or a semaphore-take(1) will be executed.<h2><a class="anchor" name="cfscfcmdsas">
Auto Suspend Enable Command</a></h2>
The CF Auto Suspend Enable command is sent to CF using message ID <a class="el" href="cf__msgids_8h.html#f0251afffaf66a091862d81147122b7f">CF_CMD_MID</a> with command code <a class="el" href="cf__msg_8h.html#2cbd8f2230aacf993770e8ce026a87c0">CF_ENADIS_AUTO_SUSPEND_CC</a>.<p>
This command is used to enable or disable auto suspend mode. When auto suspend is enabled, CF will suspend every outgoing transaction after the EOF is sent. This is a global mode that applies to all output channels. After a processor or power-on reset, the auto suspend mode defaults to disabled.<p>
When the command is executed successfully, the command counter is incremented and <a class="el" href="cf__events_8h.html#eff037d939e3d81d8a1af6a2b3a47e71">Event Message </a> will be generated indicating the auto enable state (0-Disabled, 1-Enabled).<p>
If the command is not successful, the command error counter will increment and an error event will be generated indicating the reason for failure.<p>
<div class="fragment"><pre class="fragment">  typedef struct
  {
      uint8   CmdHeader[CFE_SB_CMD_HDR_SIZE]; 
      uint32  EnableDisable;/* 0 to disable, 1 to enable */
  
  }CF_AutoSuspendEnCmd_t;
  </pre></div><p>
The <code>EnableDisable</code> parameter is used to specify the desired state, 0 to disable and 1 to enable.<p>
Prev: <a class="el" href="cfscfopr.html">CFS CF Operation</a> <br>
 Next: <a class="el" href="cfscftlm.html">CFS CF Telemetry</a> <hr size="1"><address style="align: right;"><small>Generated on Fri Mar 6 15:45:28 2015 for CFS CFDP (CF) Application on  User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
